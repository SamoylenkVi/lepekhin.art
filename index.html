<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Студия Евгения Лепехина</title>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preload" href="/fonts/Apoc-Regular-Web.woff2" as="font" type="font/woff2" crossorigin>
</head>

<body>
    <div class="page">
        <header class="page-header wrapper  page-header--light">
    <div class="page-header__wrapper">
        <div class="page-header__menu">
            <a class="page-header__home"  href="/" >
                <img class="page-header__logo" src="/img/logo-studio.svg" width="231" height="40" alt="Лепёхин">
                <img class="page-header__logo-mobile" src="/img/logo-studio-mobile.svg" width="35" height="38" alt="Лепёхин">
            </a>
            <button class="page-header__open-menu" type="button" aria-label="Открыть главное меню"></button>
        </div>
        <div class="page-header__navigation-wrapper">
            <div class="page-header__navigation-overlay"></div>
            <nav class="page-header__navigation">
                <ul class="page-header__navigation-list">
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/" >Новое</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/projects/" >Проекты</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/#/" >Студия</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/#/" >Курсы</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/#/" >Журнал</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/#/" >Магазин</a>
                    </li>
                    
                    <li class="page-header__item">
                        <a class="page-header__link"  href="/#/" >Сервисы</a>
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>
</header>
        
<main>
    <h1 class="visually-hidden">Студия Евгения Лепёхина, мультидисциплинарная дизайн-студия с распределённой командой дизайнеров, разработчиков и менеджеров из разных стран.</h1>
    <section class="promo">
        <h2 class="visually-hidden">Видео с последними проектами студии</h2>
        <div class="promo__wrapper wrapper">
            <div class="promo__video video">
                <!-- <img class="video__media" src="/img/Tochka cveta-box.jpg" alt="Точка Цвета"> -->
                <iframe class="video__media" src="https://player.vimeo.com/video/687863122?h=73a40f740b&color=ff9933&controls=0&title=0&byline=0" allowfullscreen></iframe><script src="https://player.vimeo.com/api/player.js"></script>
            </div>
            <div class="promo__text project-description">
                <a class="project-description__link project-description__title " href>Логотип и&nbsp;айдентика <br> фотолаборитории &laquo;Точка цвета&raquo;</a>
                <p class="project-description__text">Ещё пять лет назад фотоплёнка казалась забытым искусством. Но&nbsp;сегодня на&nbsp;плёнку снимает каждый пятый: молодёжь открывает для себя прелесть неизвестности, а&nbsp;пенсионеры ностильгируют, сдувая пыль со&nbsp;своих ФЭДов и&nbsp;Зенитов. В&nbsp;студии сделали новый смелый и&nbsp;заряженный логотип для&nbsp;фотолаборатории &laquo;Точка цвета&raquo;.</p>
            </div>
        </div>
    </section>
    
    <section class="main-projects">
        <h2 class="visually-hidden">Проекты студии</h2>
        <div class="main-projects__wrapper wrapper">
            <ul class="main-projects__list">
                
                <li class="main-projects__item">
                  <a class="main-projects__link" href="/projects/">
                      <div class="main-projects__picture-wrapper">
                        <picture>
                            <source type="image/webp" srcset="img/genius-bottle-animation.webp">
                            <img src="img/genius-bottle-animation.jpg" class="main-projects__picture" width="680" height="510" alt="Логотип и айдентика иммерсивного шоу «Джиниус»" loading="lazy">
                        </picture>
                      </div>
                    <div class="main-projects__description-wrapper">
                        <h3 class="main-projects__title">Логотип и айдентика иммерсивного шоу «Джиниус»</h3>
                        
                    </div>
                  </a>
                </li>
                
                <li class="main-projects__item">
                  <a class="main-projects__link" href="/projects/">
                      <div class="main-projects__picture-wrapper">
                        <picture>
                            <source type="image/webp" srcset="img/dgpp-t-shirts-2.webp">
                            <img src="img/dgpp-t-shirts-2.jpg" class="main-projects__picture" width="680" height="510" alt="Логотип и айдентика конкурса по русскому языку «Давайте говорить и писать правильно»" loading="lazy">
                        </picture>
                      </div>
                    <div class="main-projects__description-wrapper">
                        <h3 class="main-projects__title">Логотип и айдентика конкурса по русскому языку «Давайте говорить и писать правильно»</h3>
                        
                    </div>
                  </a>
                </li>
                
                <li class="main-projects__item">
                  <a class="main-projects__link" href="/projects/">
                      <div class="main-projects__picture-wrapper">
                        <picture>
                            <source type="image/webp" srcset="img/poteryashki_cover.webp">
                            <img src="img/poteryashki_cover.jpg" class="main-projects__picture" width="680" height="510" alt="Логотип благотворительного фонда помощи бездомным животным «Потеряшки»" loading="lazy">
                        </picture>
                      </div>
                    <div class="main-projects__description-wrapper">
                        <h3 class="main-projects__title">Логотип благотворительного фонда помощи бездомным животным «Потеряшки»</h3>
                        
                    </div>
                  </a>
                </li>
                
                <li class="main-projects__item">
                  <a class="main-projects__link" href="/projects/">
                      <div class="main-projects__picture-wrapper">
                        <picture>
                            <source type="image/webp" srcset="img/neuropsy_site_cover.webp">
                            <img src="img/neuropsy_site_cover.jpg" class="main-projects__picture" width="680" height="510" alt="Логотип и айдентика клиники научно-доказательной психотерапии и психологии «Нейро-пси»" loading="lazy">
                        </picture>
                      </div>
                    <div class="main-projects__description-wrapper">
                        <h3 class="main-projects__title">Логотип и айдентика клиники научно-доказательной психотерапии и психологии «Нейро-пси»</h3>
                        
                    </div>
                  </a>
                </li>
                
                <li class="main-projects__item">
                  <a class="main-projects__link" href="/projects/">
                      <div class="main-projects__picture-wrapper">
                        <picture>
                            <source type="image/webp" srcset="img/plate-photo.webp">
                            <img src="img/plate-photo.jpg" class="main-projects__picture" width="680" height="510" alt="Информационная табличка для объектов компании «Колесник»" loading="lazy">
                        </picture>
                      </div>
                    <div class="main-projects__description-wrapper">
                        <h3 class="main-projects__title">Информационная табличка для объектов компании «Колесник»</h3>
                        
                        <p class="main-projects__description">Доходный дом «Колесник» — инвестиционная компания в сфере коммерческое недвижимости. Команда доходного дома выкупает неприглядные здания на инвесторские деньги, реставрирует их и продаёт в качестве готового арендного бизнеса. В студии разработали дизайн таблички с информацией о реновации здания, архитекторе и исполнителе.</p>
                        
                    </div>
                  </a>
                </li>
                
            </ul>
        </div>
    </section>
</main>
        <footer class="footer wrapper">
    <div class="footer__wrapper">
        <a class="footer__home"  href="/" > <img class="footer__logo" src="/img/logo-studio.svg" width="231" height="40" alt="Лепёхин"></a>
        <span class="footer__copyright">© Студия Евгения Лепёхина 2017…2022</span>
        <div class="footer__cantacts">
            <ul>
                <li><a class="footer__link" href="mailto:hello@lepekhin.studio">hello@lepekhin.studio</a></li>
                <li><a class="footer__link" href="tel:+79504995990">+7 950 499-59-90</a></li>
            </ul>
            <ul class="footer__list">
                <li><a class="footer__link" href="https://t.me/lepekhinstudio">Телеграм</a></li>
                <li><a class="footer__link" href="https://vk.com/lepekhinstudio">ВКонтакте</a></li>
                <li><a class="footer__link" href="https://www.behance.net/lepekhinstudio">Биханс</a></li>
            </ul>
        </div>
        <div class="footer__studio-information">
            <a class="footer__link" href="">Подписаться на рассылку →</a>
            <ul class="footer__list">
                <li><a class="footer__link" href="">Договор и условия</a></li>
                <li><a class="footer__link" href="https://elba.kontur.ru/card/lepekhin">Реквизиты студии</a></li>
                <li><a class="footer__link" href="https://docs.google.com/document/d/1pVJAbN8KmAKf5PvjB85avqBVZGQ_yq1aMDNdjJ66eUo/edit?usp=sharing">Конфиденциальность</a></li>
            </ul>
        </div>
    </div>
</footer>

        <div class="offer wrapper">
            <button class="offer-button" type="button" aria-label="Начать работу с нами">Начать работу с нами </button>
        </div>
    </div>
    <section class="popup popup--closed">
    <div class="popup__underlay"></div>
    <div class="popup__wrapper">
        <div class="popup__offer">
            <button class="popup__button-close" type="button" aria-label="Закрыть окно заявки"></button>
            <h2 class="popup__title title">Заказать дизайн</h2>
            <p>Чтобы начать работу, нам нужно разобраться в&nbsp;задаче. Расскажите о&nbsp;вашем проекте, и&nbsp;мы&nbsp;свяжемся, чтобы обсудить детали. На&nbsp;созвоне мы&nbsp;зададим вопросы, которые помогут понять задачу и&nbsp;ваши ожидания.</p>
            <p>Клиенты ценят нас за&nbsp;умение внимательно слушать, за&nbsp;высокую скорость работы, за&nbsp;невероятную отдачу и&nbsp;страсть. Мы&nbsp;славимся тем, что всегда доводим начатое до&nbsp;конца, отвечаем за&nbsp;продукт от&nbsp;брифа до&nbsp;запуска и&nbsp;не&nbsp;бросаем клиента в&nbsp;сложной ситуации.</p>
            <form class="popup__order-form form" method="get" action="https://echo.htmlacademy.ru/">
                <p class="form__item">
                    <input class="form__field" type="text" id="organization" name="organization" aria-label="Введите название компании или проекта" placeholder=" ">
                    <label for="organization">Название компании или проекта</label>
                </p>
                <p class="form__item">
                    <input class="form__field" data-validate="tel" type="tel" id="tel" name="tel" aria-label="Введите ваш номер телефона" pattern="^(\+7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$" placeholder=" " required>
                    <label for="tel">Телефон или мессенджер</label>
                </p>
                <p class="form__item">
                    <input class="form__field" data-validate="email" type="email" id="email" name="email" aria-label="Введите ваш email" pattern="^(?:[-a-z\d\+\*\/\?!{}~_%&'=^$#]+(?:\.[-a-z\d\+\*\/\?!{}~_%&'=^$#]+)*)@(?:[-a-z\d_]+\.){1,60}[a-z]{2,6}$" placeholder=" " required>
                    <label for="email">Электронная почта</label>
                </p>
                <p class="form__item"> 
                    <input class="form__field" data-validate="name" type="text" id="name" name="name" aria-label="Введите ваше имя" placeholder=" " required>
                    <label for="name">Имя</label>
                </p>
                <p class="form__item">
                    <input class="form__field" type="text" id="file" name="file" aria-label="Прикрепите ссылку на дополнительные файлы" placeholder=" ">
                    <label for="file">Прикрепить ссылку на файлы </label>
                </p>
                <p class="form__item">
                    <textarea class="form__field form__field--about" id="about" name="about" rows="5" aria-label="Расскажите о проекте: задача, сроки, примерный бюджет" placeholder=" "></textarea>
                    <label for="about">Расскажите о проекте: задача, сроки, примерный бюджет</label>
                </p>
                <button type="submit" class="form__button-submit">Отправить заявку</button>
            </form>
        </div>
        <aside class="popup__aside"></aside>
    </div>
</section>
    
  <script>
      
    const keys = {
    ESCAPE: 'Escape',
    ESC: 'Esc',
};

const ValidationError = {
  tel: [
    { 
      regExp: /^(?!\s*$).+/, 
      errorMessage: 'Укажите телефон для связи'
    },
    {
      regExp: /^(\+7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/,
      errorMessage: 'Верный формат — 8 999 999 99 99'
    }
  ],
  name: [
    {
      regExp: /^(?!\s*$).+/, 
      errorMessage: 'Укажите, как к вам обращаться'
    }
  ],
  email: [
    {
      regExp: /^(?!\s*$).+/,
      errorMessage: 'Укажите почту для связи'
    },
    {
      regExp: /^(?:[-a-z\d\+\*\/\?!{}~_%&'=^$#]+(?:\.[-a-z\d\+\*\/\?!{}~_%&'=^$#]+)*)@(?:[-a-z\d_]+\.){1,60}[a-z]{2,6}$/,
      errorMessage: 'Верный формат — ivan@goo.ru',
    }
  ]
};


const PHONE_CODE = '+7(';

const InvalidInput = new Map();
const ErrorPopup = new Map ();

const regexPhoneInput = new RegExp(/\+?7?\(?([0-9]{0,3})\)?([0-9]{0,3})\-?([0-9]{0,2})\-?([0-9]{0,2})/, 'g');
const page = document.querySelector('body');
const buttonPopupOpen = document.querySelector('.offer-button')
const popupFormApplication = document.querySelector('.popup')
const popupButtonClose = popupFormApplication.querySelector('.popup__button-close');
const popupForm = popupFormApplication.querySelector('form')
const popupPhone = popupForm.querySelector('#tel');
const validatedElements = popupForm.querySelectorAll('[data-validate]');
const isPopupExist = popupFormApplication && buttonPopupOpen && popupButtonClose;

const focusPhoneHandler = (evt) => {
    if (evt.target.value.length === 0) {
      evt.target.value = PHONE_CODE;
    }
};
  
const maskPhoneHandler = (evt) => {
  
    const [, group1, group2, group3, group4] = Array.from(evt.target.value.matchAll(regexPhoneInput))[0];
  
    evt.target.value = PHONE_CODE;
  
    if (group1) {
      evt.target.value += group1;
    }
  
    if (group2) {
      evt.target.value += `)${group2}`;
    }
  
    if (group3) {
      evt.target.value += `-${group3}`;
    }
  
    if (group4) {
      evt.target.value += `-${group4}`;
    }
};
  
if (popupPhone) {
    popupPhone.addEventListener('focus', focusPhoneHandler);
    popupPhone.addEventListener('input', maskPhoneHandler);
}
  
const openPopupHandler = (evt) => {
    evt.preventDefault();
  
    page.style.overflow = 'hidden';
    popupFormApplication.classList.remove('popup--closed')
  

    popupButtonClose.addEventListener('click', closePopupHandler);
    document.addEventListener('keydown', escapeKeydownHandler);
};
  
const closePopupHandler = (evt) => {
    evt.preventDefault();
  
    page.style.overflow = 'auto';
    popupFormApplication.classList.add('popup--closed')
  
  
    popupButtonClose.removeEventListener('click', closePopupHandler);
    document.removeEventListener('keydown', escapeKeydownHandler);
  
};
  
const escapeKeydownHandler = (evt) => {
    if (evt.key === keys.ESCAPE || evt.key === keys.ESC) {
      closePopupHandler(evt);
    }
};
  

buttonPopupOpen.addEventListener('click', openPopupHandler);

popupForm.setAttribute('novalidate', '');

const validateFormField = (input) => { 
  const inputValidations = ValidationError[input.dataset.validate];

  for (let i = 0; i < inputValidations.length; i++) { // выведет 0, затем 1, затем 2
    const {errorMessage, regExp} = inputValidations[i];
    const isElementValid = input.value.search(regExp) !== -1;
    
    if (!isElementValid) {
      return errorMessage;
    } 
  }

  return '';
};

const showErrorPopup = (hookElement, textContent, isPopupExist) => {
  if (isPopupExist) {
    const errorMessagePopup = ErrorPopup.get(hookElement)
    errorMessagePopup.textContent = textContent
  } else {
    const errorMessagePopup = document.createElement('span')
    errorMessagePopup.classList.add('error-message')
    errorMessagePopup.textContent = textContent
    const parentWrapper = hookElement.parentNode
    parentWrapper.appendChild(errorMessagePopup)
    ErrorPopup.set(hookElement, errorMessagePopup);
  }
};

const deleteErrorPopup = (hookElement) => {
  if (ErrorPopup.has(hookElement)) {
      const errorMessagePopup = ErrorPopup.get(hookElement)
      errorMessagePopup.remove();
      ErrorPopup.delete(hookElement);
  }
};

const inputHandler = ({ target: element }) => {  
  const isInvalidLastCheck = InvalidInput.has(element); 
  const errorMessage = validateFormField(element); 
  const previousErrorMessage = isInvalidLastCheck
    ? InvalidInput.get(element)
    : null;

  
  if (!isInvalidLastCheck && errorMessage) {
    InvalidInput.set(element, errorMessage); 
    showErrorPopup(element, errorMessage, isInvalidLastCheck);

    element.addEventListener("input", inputHandler);
  }

  
  if (
    isInvalidLastCheck &&
    errorMessage &&
    previousErrorMessage !== errorMessage
  ) {
    InvalidInput.set(element, errorMessage);
    showErrorPopup(element, errorMessage, isInvalidLastCheck);
  }

  
  if (isInvalidLastCheck && !errorMessage) {
    InvalidInput.delete(element);
    deleteErrorPopup(element);

    element.removeEventListener("input", inputHandler);
  }
};

const submitFormHandler = (evt) => {
  validatedElements.forEach((validatedElement) => {
    inputHandler({target: validatedElement})
  })
  if (InvalidInput.size !== 0) {
    evt.preventDefault();
  }
};

popupForm.addEventListener('submit', submitFormHandler);


 
    // const page = document.querySelector('.page')
const header = document.querySelector('.page-header')
const buttonMenuHendler = header.querySelector('.page-header__open-menu')
if (buttonMenuHendler) {
    buttonMenuHendler.addEventListener('click',() => {
        page.classList.toggle('page--open-navigation')
        header.classList.toggle('page-header--open')
    })
}
  
  </script>
</body >
</html >